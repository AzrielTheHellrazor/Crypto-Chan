services:
  - type: worker
    name: crypto-chan-agent
    runtime: node
    plan: starter
    buildCommand: bun install
    startCommand: bun run src/index.ts
    envVars:
      - fromGroup: crypto-chan-env
    scaling:
      minInstances: 1
      maxInstances: 1
    previews:
      generation: manual

envVarGroups:
  - name: crypto-chan-env
    envVars:
      - key: OPENAI_API_KEY
        sync: false
      - key: OPENAI_MODEL
        value: gpt-5-nano
      - key: TWITTER_APP_KEY
        sync: false
      - key: TWITTER_APP_SECRET
        sync: false
      - key: TWITTER_ACCESS_TOKEN
        sync: false
      - key: TWITTER_ACCESS_SECRET
        sync: false
      - key: TWITTER_BOT_USER_ID
        sync: false
      - key: POST_INTERVAL_MS
        value: "43200000"
      - key: MENTION_INTERVAL_MS
        value: "600000"

